(this["webpackJsonphooks-snake-game"]=this["webpackJsonphooks-snake-game"]||[]).push([[0],{18:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n(2),a=n.n(i),s=n(12),r=n.n(s),o=(n(18),function(t,e){for(var n=function(){var n=Math.floor(Math.random()*(t-1-1))+1,c=Math.floor(Math.random()*(t-1-1))+1;if(!e.some((function(t){return t.x===n&&t.y===c})))return{v:{x:n,y:c}}};;){var c=n();if("object"===typeof c)return c.v}}),u=function(t,e){for(var n=[],c=0;c<t;c++){var i=new Array(t).fill("");n.push(i)}n[e.y][e.x]="snake";var a=o(t,[e]);return n[a.y][a.x]="food",n},l={x:17,y:17},d=u(35,l),b=[1e3,500,100,50,10],f=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"}),j=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),h=Object.freeze({37:j.left,38:j.up,39:j.right,40:j.down}),O=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),m=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),v=function(t){var e=t.length,n=t.difficulty,i=void 0===n?3:n,a=t.onChangeDifficulty,s=i<b.length?"":"is-hidden",r=i>1?"":"is-hidden";return Object(c.jsxs)("div",{className:"navigation",children:[Object(c.jsxs)("div",{className:"navigation-item",children:[Object(c.jsx)("span",{className:"navigation-label",children:"Length:"}),Object(c.jsx)("div",{className:"navigation-item-number-container",children:Object(c.jsx)("div",{className:"num-board",children:e})})]}),Object(c.jsxs)("div",{className:"navigation-item",children:[Object(c.jsx)("span",{className:"navigation-label",children:"Difficulty:"}),Object(c.jsxs)("div",{className:"navigation-item-number-container",children:[Object(c.jsx)("div",{className:"num-board",children:i}),Object(c.jsxs)("div",{className:"difficulty-button-container",children:[Object(c.jsx)("div",{className:"difficulty-button difficulty-up ".concat(s),onClick:function(){return a(i+1)}}),Object(c.jsx)("div",{className:"difficulty-button difficulty-down ".concat(r),onClick:function(){return a(i-1)}})]})]})]})]})},x=function(t){var e=t.fields;return Object(c.jsx)("div",{className:"field",children:e.map((function(t){return t.map((function(t){return Object(c.jsx)("div",{className:"dots ".concat(t)})}))}))})},p=function(t){var e=t.status,n=t.onStart,i=t.onStop,a=t.onRestart;return Object(c.jsxs)("div",{className:"button",children:[e===f.gameover&&Object(c.jsx)("button",{className:"btn btn-gameover",onClick:a,children:"gameover"}),e===f.init&&Object(c.jsx)("button",{className:"btn btn-init",onClick:n,children:"start"}),e===f.suspended&&Object(c.jsx)("button",{className:"btn btn-suspended",onClick:n,children:"start"}),e===f.playing&&Object(c.jsx)("button",{className:"btn btn-playing",onClick:i,children:"stop"})]})},g=n(5),y=n(6),N=function(t){var e=t.onChange;return Object(c.jsxs)("div",{className:"manipulation-panel",children:[Object(c.jsx)("button",{className:"manipulation-btn btn btn-left",onClick:function(){return e(j.left)},children:Object(c.jsx)(g.a,{icon:y.b})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"manipulation-btn btn btn-up",onClick:function(){return e(j.up)},children:Object(c.jsx)(g.a,{icon:y.d})}),Object(c.jsx)("button",{className:"manipulation-btn btn btn-down",onClick:function(){return e(j.down)},children:Object(c.jsx)(g.a,{icon:y.a})})]}),Object(c.jsx)("button",{className:"manipulation-btn btn btn-right",onClick:function(){return e(j.right)},children:Object(c.jsx)(g.a,{icon:y.c})})]})},k=n(11),C=n(3),w=null,S=function(){w&&clearInterval(w)},D=function(){var t=Object(i.useState)(d),e=Object(C.a)(t,2),n=e[0],c=e[1],a=Object(i.useState)([]),s=Object(C.a)(a,2),r=s[0],v=s[1],x=Object(i.useState)(f.init),p=Object(C.a)(x,2),g=p[0],y=p[1],N=Object(i.useState)(j.up),D=Object(C.a)(N,2),E=D[0],z=D[1],I=Object(i.useState)(3),L=Object(C.a)(I,2),M=L[0],F=L[1],A=Object(i.useState)(0),B=Object(C.a)(A,2),J=B[0],P=B[1];Object(i.useEffect)((function(){return v([l]),w=setInterval((function(){P((function(t){return t+1}))}),b[M-1]),S}),[M]),Object(i.useEffect)((function(){0!==r.length&&g===f.playing&&(G()||(S(),y(f.gameover)))}),[J]);var R=Object(i.useCallback)((function(t){g===f.playing&&O[E]!==t&&z(t)}),[E,g]),T=Object(i.useCallback)((function(t){g===f.init&&(t<1||t>b.length||F(t))}),[g]);Object(i.useEffect)((function(){var t=function(t){var e=h[t.keyCode];e&&R(e)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[R]);var G=function(){var t=r[0],e=t.x,i=t.y,a=m[E],s={x:e+a.x,y:i+a.y};if(function(t,e){return e.y<0||e.x<0||e.y>t-1||e.x>t-1}(n.length,s)||function(t,e){return"snake"===t[e.y][e.x]}(n,s))return!1;var u=Object(k.a)(r);if("food"!==n[s.y][s.x]){var l=u.pop();n[l.y][l.x]=""}else{var d=o(n.length,[].concat(Object(k.a)(u),[s]));n[d.y][d.x]="food"}return n[s.y][s.x]="snake",u.unshift(s),v(u),c(n),!0};return{body:r,difficulty:M,fields:n,status:g,start:function(){return y(f.playing)},stop:function(){return y(f.suspended)},reload:function(){w=setInterval((function(){P((function(t){return t+1}))}),100),y(f.init),v([l]),z(j.up),c(u(n.length,l))},updateDirection:R,updateDifficulty:T}};var E=function(){var t=D(),e=t.body,n=t.difficulty,i=t.fields,a=t.start,s=t.stop,r=t.reload,o=t.status,u=t.updateDirection,l=t.updateDifficulty;return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("header",{className:"header",children:[Object(c.jsx)("div",{className:"title-container",children:Object(c.jsx)("h1",{className:"title",children:"Snake Game"})}),Object(c.jsx)(v,{length:e.length,difficulty:n,onChangeDifficulty:l})]}),Object(c.jsx)("main",{className:"main",children:Object(c.jsx)(x,{fields:i})}),Object(c.jsxs)("footer",{className:"footer",children:[Object(c.jsx)(p,{status:o,onStop:s,onStart:a,onRestart:r}),Object(c.jsx)(N,{onChange:u})]})]})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),i(t),a(t),s(t)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),z()}},[[24,1,2]]]);
//# sourceMappingURL=main.0bff51f3.chunk.js.map